# nodeTrain

## 동기와 비동기, 블로킹과 논 블로킹

동기와 비동기, 블로킹과 논 블로킹이라는 네 개의 용어가 노드에서 혼용되고 있으며, 의미도 서로 다릅니다.

- 동기와 비동기: 백그라운드 작업 완료 확인 여부
- 블로킹과 논 블로킹: 함수가 바로 return되는지 여부

노드에서는 동기-블로킹 방식과 비동기-논 블로킹 방식이 대부분입니다.

동기-논 블로킹이나 비동기-블로킹은 없다고 봐도 됩니다.

동기-블로킹 방식에서는 백그라운드 작업 완료 여부를 계속 확인하며, 호출한 함수가 바로 return되지 않고 백그라운드 작업이 끝나야 return됩니다. 비동기-논 블로킹 방식에서는 호출한 함수가 바로 return되어 다음 작업으로 넘어가며, 백그라운드 작업완료 여부는 신경 쓰지 않고 나중에 백그라운드가 알림을 줄 때 비로소 처리합니다.

## 버퍼와 스트림

버퍼링은 영상을 재생할 수 있을 때까지 데이터를 모으는 동작이고, 스트리밍은 방송인의 컴퓨터에서 시청자의 컴퓨터로 영상 데이터를 조금씩 전송하는 동작입니다.

노드는 파일을 읽을 때 메모리에 파일 크기만큼 공간을 마련해두며 파일 데이터를 메모리에 저장한 뒤 사용자가 조작할 수 있도록 합니다. 이때 메모리에 저장된 데이터가 바로 버퍼입니다.

## 유명한 포트번호

- 21: FTP
- 80: HTTP
- 443: HTTPS
- 3306: MYSQL

리눅스에서는 1024번 이하의 포트에 연결할 때 관리자 권한이 필요하므로 sudo를 붙여야한다.

## npm -g 기본경로 

### 윈도우
- C:\Users\사용자이름\AppData\Roaming\npm 

### Mac
- /usr/local/lib/node_modules

## 패키지 버전 이해하기

버전 번호를 어떻게 정하고 올려야 하는지를 명시하는 규칙이 등장했는데 이것을 `SemVer`라고 한다.

### major 버전

버전의 첫 번째 자리이다.

0이면 초기 개발중이라는 뜻이고 1부터는 정식 버전을 의미한다.

major 버전은 하휘 호환이 안 될정도로 패키지의 내용이 수정됬을때 올립니다.

예를 들어, 1.5.0에서 2.0.0으로 버전을 올렸다는 것은 1.5.0 버전 패키지를 사용하고 있던 사람들이 2.0.0으로 업데이트 했을 때 에러가 발생할 확률이 크다는 뜻입니다.

### minor 버전

2번째 자리이다.

minor 버전은 하위 호환이 되는 기능 업데이트를 할 때 올립니다. 버전을 1.5.0에서 1.6.0으로 올렸다면, 1.5.0사용자가 1.6.0으로 업데이트 했을 때 아무 문제가 없어야 합니다.

### patch 버전

3번째 자리이다.

새로운 기능이 추가되었다기 보다는 기존 기능에 문제가 있어 수정한 것을 내놓았을 때 patch 버전을 올립니다. 1.5.0에서 1.5.1처럼 올리는건데 당연히 업데이트 후 아무 문제가 없어야 한다.

### ^, ~, >, <, etc..

- ^기호는 minor버전까지만 설치하거나 업데이트 한다.

npm i express@^1.1.1이라면 1.1.1 이상부터 2.0.0 미만 버전까지 설치된다. 2.0.0은 설치가 안됨

1.x.x와 같이 표현할수도 있따.

- ~기호는 patch 버전까지만 설치하거나 업데이트한다. npm i express@~1.1.1이라면 1.1.1 이상부터 1.2.0미만 버전까지 설치된다.

1.1.x와 같은ㅍ ㅛ현도 가능하다. minor 버전까지는 하위호환이 보장되기 때문에 ^이 더 많이 사용된다.

나머지는 부등호 기호와 같다.

### body-parser

```javascript
app.use(express.urlencoded({ extended: false }))
```

false이면 노드의 `querystring` 모듈을 사용하여 쿼리스트링을 해석하고, true면 qs모듈을 사용하여 쿼리스트링을 해석한다. qs는 npm 패기키지이다.


